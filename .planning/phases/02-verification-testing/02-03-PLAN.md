---
phase: 02-verification-testing
plan: 03
type: execute
wave: 2
depends_on: [02-01, 02-02]
files_modified: []
autonomous: false
user_setup: []

must_haves:
  truths:
    - "Authenticated user can browse sports and events"
    - "Odds display loads correctly"
    - "Arbitrage opportunities are visible (if user tier allows)"
    - "Real-time data refreshes work (if implemented)"
    - "No runtime errors in console or server logs"
  artifacts:
    - path: ".planning/phases/02-verification-testing/02-03-SUMMARY.md"
      provides: "Core features verification results"
  key_links:
    - from: "Frontend components"
      to: "Backend API endpoints"
      via: "Authenticated REST API calls"
      pattern: "/v1/events, /v1/arbitrage, /v1/odds"
    - from: "Browser polling"
      to: "Backend data endpoints"
      via: "TanStack Query refetch intervals"
      pattern: "staleTime, refetchInterval"
---

<objective>
Verify core SportsAI features are functional in the deployed environment

Purpose: Ensure authenticated users can access and use the main features: events browsing, odds display, and arbitrage detection
Output: Core features verification report identifying any functional issues
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-verification-testing/02-01-SUMMARY.md
@.planning/phases/02-verification-testing/02-02-SUMMARY.md

# API endpoints to test
Events: /v1/events, /v1/events/live, /v1/events/upcoming
Odds: /v1/odds (if separate endpoint exists)
Arbitrage: /v1/arbitrage/opportunities
Data health: /healthz/data

# Note: This application uses REST API with polling, not WebSockets
Real-time updates are handled via TanStack Query staleTime/refetchInterval
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 1: Verify Events Browsing Feature</name>
  <action>No automated action - this is a verification checkpoint</action>
  <verify>
    Manual browser testing (after logging in):

    1. Navigate to: https://sports-ai-one.vercel.app
    2. Login if not already authenticated

    3. Test SPORTS BROWSING:
       - Look for sports selection (likely icons or list on home page)
       - Try clicking on different sports (Football, Basketball, etc.)
       - Check Network tab for:
         * GET request to /api/v1/events/summary/sports
         * Response 200 with sports array
         * GET request to /api/v1/events?sport=X
       - Verify UI updates with selected sport's events

    4. Test EVENTS DISPLAY:
       - Check if events list loads
       - Look for event cards showing:
         * Team names
         * Start time
         * League
         * Odds (if available)
       - Try filtering by:
         * Live events
         * Upcoming events
         * Favorites (if any)

    5. Check for errors:
       - Console errors during navigation
       - Failed API requests (Network tab red items)
       - Loading states that never resolve
       - Broken UI elements

    6. Test REFRESH:
       - Refresh the page (F5)
       - Verify data loads again
       - Check if any auth issues arise

    Document:
    - Sports browsing: [Working/Not working]
    - Events loading: [Working/Not working]
    - UI responsiveness: [Good/Bad]
    - Any console errors
    - Any failed API requests
  </verify>
  <done>
    Events browsing verification complete with:
    - Sports selection functionality status
    - Events display status
    - Navigation performance
    - Any errors or issues
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify Odds and Arbitrage Features</name>
  <action>No automated action - this is a verification checkpoint</action>
  <verify>
    Manual browser testing:

    1. Test ODDS DISPLAY:
       - Navigate to an event detail page (click on any event)
       - Check if odds are displayed:
         * Moneyline odds (home/draw/away)
         * Spread/point odds (if applicable)
         * Over/under totals (if applicable)
       - Look for bookmaker labels
       - Check Network tab for odds-related API calls

    2. Test ARBITRAGE DETECTION:
       - Look for "Arbitrage" or "Opportunities" navigation
       - Navigate to arbitrage page
       - Check Network tab for:
         * GET request to /api/v1/arbitrage/opportunities
         * Response status and data structure
       - Verify display:
         * List of arbitrage opportunities
         * Profit percentages
         * Bookmaker combinations
         * Confidence scores

    3. Test DATA REFRESH:
       - Observe if data updates automatically
       - Check Network tab for periodic refetch requests
       - Note any stale data indicators

    4. Test USER TIER RESTRICTIONS (if applicable):
       - Check if free tier shows limited opportunities
       - Look for upgrade prompts for premium features
       - Verify tier-appropriate content

    5. Test DATA HEALTH ENDPOINT:
       ```bash
       curl https://sportsapiai.onrender.com/healthz/data
       ```
       - Check response for:
         * sports count
         * leagues count
         * teams count
         * upcoming events count
         * odds quotes in last 24h
         * last sync status

    Document:
    - Odds display: [Working/Not working/No data]
    - Arbitrage page: [Working/Not working/No data]
    - Data freshness: [Fresh/Stale/Unknown]
    - Data health endpoint response
    - Any tier restrictions encountered
  </verify>
  <done>
    Odds and arbitrage verification complete with:
    - Odds display status
    - Arbitrage detection status
    - Data freshness status
    - Database content status
    - Any errors or issues
  </done>
</task>

<task type="auto">
  <name>Task 3: Document Core Features Verification Results</name>
  <files>.planning/phases/02-verification-testing/02-03-SUMMARY.md</files>
  <action>
    Create a SUMMARY.md file documenting the core features verification results:

    Use the following template:

    ```markdown
    # Plan 02-03 Summary: Core Features Verification

    ## Verification Date
    [Date and time of verification]

    ## Events Browsing Feature
    - Sports selection: [Working/Not working]
    - Sports API endpoint: [/v1/events/summary/sports status]
    - Events list: [Loading/Not loading/Empty]
    - Events API endpoint: [/v1/events status]
    - Live events: [Loading/Not loading/Empty]
    - Upcoming events: [Loading/Not loading/Empty]
    - Filters working: [YES/NO]

    ## Odds Display Feature
    - Odds on event detail: [Showing/Not showing]
    - Bookmaker labels: [Visible/Not visible]
    - Moneyline odds: [Showing/Not showing]
    - Spread/Total odds: [Showing/Not showing/Not applicable]
    - API errors: [NONE or list]

    ## Arbitrage Detection Feature
    - Arbitrage page accessible: [YES/NO]
    - Opportunities loading: [YES/NO/Empty - needs data]
    - Arbitrage API endpoint: [/v1/arbitrage/opportunities status]
    - Profit display: [Working/Not working]
    - Bookmaker combinations: [Showing/Not showing]

    ## Data Health Status
    - /healthz/data endpoint response:
      ```json
      [Paste relevant parts of response]
      ```
    - Sports in DB: [count]
    - Leagues in DB: [count]
    - Teams in DB: [count]
    - Upcoming events: [count]
    - Odds quotes (24h): [count]
    - Last sync status: [status]

    ## Real-time Updates
    - Auto-refresh observed: [YES/NO]
    - Refetch interval: [approximately X seconds]
    - Data freshness indicator: [Present/Not present]

    ## Console/Network Errors
    - Browser console errors: [NONE or list]
    - Failed API requests: [NONE or list]
    - CORS issues: [NONE or list]

    ## Overall Status
    - Core features functional: [YES/NO/PARTIAL]
    - Data population needed: [YES/NO]
    - Issues requiring fixes: [List or NONE]
    ```
  </action>
  <verify>File .planning/phases/02-verification-testing/02-03-SUMMARY.md exists with complete core features verification results</verify>
  <done>Core features verification summary document created with all test results</done>
</task>

</tasks>

<verification>
After completion:
- Events browsing works or issues are documented
- Odds display works or issues are documented
- Arbitrage detection works or issues are documented
- Data health status confirmed
- SUMMARY.md contains detailed results
- Any needed fixes are clearly identified
</verification>

<success_criteria>
1. Events browsing functional
2. Odds display functional (if data exists)
3. Arbitrage page accessible (if data exists)
4. No critical runtime errors
5. All results documented in SUMMARY.md
</success_criteria>

<output>
After completion, create `.planning/phases/02-verification-testing/02-03-SUMMARY.md`
</output>

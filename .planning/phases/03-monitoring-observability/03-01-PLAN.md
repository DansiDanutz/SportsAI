---
phase: 03-monitoring-observability
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - Sports_Ai/frontend/package.json
  - Sports_Ai/frontend/vite.config.ts
  - vercel.json
autonomous: false
user_setup:
  - service: vercel
    why: "Vercel Analytics requires Vercel dashboard configuration"
    env_vars: []
    dashboard_config:
      - task: "Enable Vercel Analytics for the sports-ai-one project"
        location: "Vercel Dashboard -> sports-ai-one project -> Analytics tab"
      - task: "Note the Analytics ID for configuration (if needed)"
        location: "Vercel Dashboard -> sports-ai-one project -> Settings -> General"

must_haves:
  truths:
    - "@vercel/analytics package installed in frontend"
    - "Vercel Analytics integrated in frontend app"
    - "Analytics enabled in Vercel dashboard"
    - "Render logging configured for backend"
    - "Logs accessible from Render dashboard"
  artifacts:
    - path: "Sports_Ai/frontend/package.json"
      provides: "Dependencies including @vercel/analytics"
      contains: "@vercel/analytics"
    - path: "Sports_Ai/frontend/src/main.tsx"
      provides: "Analytics integration in React app"
      contains: "Analytics"|"@vercel/analytics"
    - path: "vercel.json"
      provides: "Vercel deployment configuration"
      contains: "analytics"
  key_links:
    - from: "Sports_Ai/frontend/src/main.tsx"
      to: "Vercel Analytics"
      via: "Analytics component import and usage"
      pattern: "@vercel/analytics"
    - from: "Vercel Dashboard"
      to: "Analytics data"
      via: "Real-time metrics collection"
      pattern: "vercel.com.*analytics"
---

<objective>
Configure Vercel Analytics for frontend metrics collection and Render logging for backend monitoring

Purpose: Enable production monitoring to track user behavior, performance metrics, and server logs for debugging and optimization
Output: Working analytics dashboard and accessible server logs
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Frontend Configuration
@Sports_Ai/frontend/package.json
@Sports_Ai/frontend/vite.config.ts
@Sports_Ai/frontend/src/main.tsx

# Deployment Configuration
@vercel.json

# Backend (for logging context)
@Sports_Ai/backend/vercel.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Vercel Analytics package</name>
  <files>Sports_Ai/frontend/package.json</files>
  <action>
    Install @vercel/analytics package for frontend metrics collection:

    1. Add @vercel/analytics to frontend dependencies:
       ```bash
       cd Sports_Ai/frontend && npm install @vercel/analytics
       ```

    2. Verify installation in package.json

    Do NOT install @vercel/speed-insights (separate concern, can add later if needed)
  </action>
  <verify>grep "@vercel/analytics" Sports_Ai/frontend/package.json returns the package with version</verify>
  <done>@vercel/analytics package installed in Sports_Ai/frontend/package.json</done>
</task>

<task type="auto">
  <name>Task 2: Integrate Vercel Analytics in frontend app</name>
  <files>Sports_Ai/frontend/src/main.tsx</files>
  <action>
    Add Vercel Analytics to the React app:

    1. Read the current Sports_Ai/frontend/src/main.tsx file
    2. Import Analytics component from @vercel/analytics
    3. Add <Analytics /> component to the app root (after ReactDOM.createRoot)

    Pattern:
    ```tsx
    import { Analytics } from '@vercel/analytics/react';

    // In render:
    root.render(
      <StrictMode>
        <App />
        <Analytics />
      </StrictMode>
    );
    ```

    Ensure the component is placed inside StrictMode but outside the App component to capture all page views.
  </action>
  <verify>grep "Analytics" Sports_Ai/frontend/src/main.tsx shows the import and component usage</verify>
  <done>Vercel Analytics component integrated in main.tsx</done>
</task>

<task type="auto">
  <name>Task 3: Document Render logging configuration</name>
  <files>.planning/phases/03-monitoring-observability/03-01-LOGGING.md</files>
  <action>
    Create logging documentation for the Render backend deployment:

    Create .planning/phases/03-monitoring-observability/03-01-LOGGING.md with:

    1. **Render Logging Overview**:
       - Backend URL: https://sportsapiai.onrender.com
       - Logs location: Render Dashboard -> sportsai-backend -> Logs
       - Log types: Request logs, error logs, build logs

    2. **How to Access Logs**:
       - Go to Render Dashboard
       - Select sportsai-backend service
       - Click "Logs" tab
       - Filter by: All, Errors, Warnings, Info

    3. **Log Streaming**:
       - Real-time log streaming available
       - Log retention period (typically 7 days for free tier)
       - Download logs option

    4. **Backend Logging Best Practices**:
       - Use console.log for info, console.error for errors
       - Include request IDs for tracing
       - Log important events (auth, errors, API calls)

    Note: Backend uses NestJS with Fastify adapter, logging is already configured via Fastify's built-in logger.
  </action>
  <verify>test -f .planning/phases/03-monitoring-observability/03-01-LOGGING.md returns exit code 0</verify>
  <done>Logging documentation created with Render log access instructions</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Completed:
    - @vercel/analytics package installed in frontend
    - Analytics component integrated in main.tsx
    - Render logging documentation created

    Ready for dashboard verification:
    - Vercel Analytics enabled in dashboard
    - Analytics data collecting
  </what-built>
  <how-to-verify>
    **Step 1: Verify Vercel Analytics is enabled in dashboard**
    1. Go to https://vercel.com
    2. Select sports-ai-one project
    3. Navigate to Analytics tab
    4. Verify Analytics is enabled (should show "Analytics is enabled")

    **Step 2: Deploy frontend to activate Analytics**
    1. Push changes to GitHub (if not already pushed)
    2. Trigger Vercel deployment (via GitHub push or Vercel dashboard)
    3. Wait for deployment to complete

    **Step 3: Verify Analytics is collecting data**
    1. Visit https://sports-ai-one.vercel.app
    2. Navigate to a few pages
    3. Go back to Vercel Dashboard -> Analytics
    4. Check that page views are being recorded
    5. Verify real-time visitors show up

    **Step 4: Verify Render logs are accessible**
    1. Go to https://dashboard.render.com
    2. Select sportsai-backend service
    3. Click Logs tab
    4. Verify logs are streaming
    5. Check that request logs appear

    **Expected Results:**
    - Vercel Analytics shows page views
    - Analytics dashboard displays metrics
    - Render logs show recent requests
    - No errors in deployment logs
  </how-to-verify>
  <resume-signal>Type "approved" if Analytics is enabled and collecting data, or describe issues found</resume-signal>
</task>

</tasks>

<verification>
After completion:
1. @vercel/analytics package present in package.json
2. Analytics component integrated in main.tsx
3. Vercel Analytics enabled in dashboard
4. Analytics dashboard shows page views
5. Render logs accessible from dashboard
6. Documentation created for log access
</verification>

<success_criteria>
1. Vercel Analytics package installed and integrated in frontend code
2. Vercel Analytics enabled in dashboard and collecting metrics
3. Frontend deployed with Analytics active
4. Render logging documentation created
5. Backend logs accessible from Render dashboard
</success_criteria>

<output>
After completion, create `.planning/phases/03-monitoring-observability/03-01-SUMMARY.md`
</output>

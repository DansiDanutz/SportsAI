---
phase: 03-monitoring-observability
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - Sports_Ai/frontend/package.json
  - Sports_Ai/frontend/src/main.tsx
  - .github/workflows/vercel-deployment.yml
autonomous: false
user_setup:
  - service: vercel
    why: "Deployment notifications require Vercel dashboard configuration with GitHub integration"
    env_vars: []
    dashboard_config:
      - task: "Enable deployment notifications in Vercel project settings"
        location: "Vercel Dashboard -> sports-ai-one project -> Settings -> Notifications"
      - task: "Configure GitHub repository integration for deployment status"
        location: "Vercel Dashboard -> sports-ai-one project -> Git"
  - service: sentry (optional)
    why: "If using Sentry for error monitoring, Sentry account and DSN required"
    env_vars:
      - name: VITE_SENTRY_DSN
        source: "Sentry Dashboard -> Project Settings -> Client Keys (DSN)"
    dashboard_config:
      - task: "Create new Sentry project for sports-ai-frontend"
        location: "Sentry Dashboard -> Create Project -> JavaScript -> React"
      - task: "Create new Sentry project for sports-ai-backend"
        location: "Sentry Dashboard -> Create Project -> Node.js -> NestJS"

must_haves:
  truths:
    - "Error monitoring integrated (Vercel error tracking or Sentry)"
    - "Frontend errors tracked and reported"
    - "Backend errors tracked and reported"
    - "Deployment notifications configured"
    - "GitHub repository receives deployment status updates"
  artifacts:
    - path: "Sports_Ai/frontend/package.json"
      provides: "Error monitoring dependencies"
      contains: "@sentry/react"|"@sentry/browser"|"vercel"
    - path: "Sports_Ai/frontend/src/main.tsx"
      provides: "Error monitoring initialization"
      contains: "Sentry"|"init"|"captureException"
    - path: ".github/workflows/vercel-deployment.yml"
      provides: "GitHub Actions workflow for deployment notifications"
      contains: "vercel"|"deployment"
  key_links:
    - from: "Sports_Ai/frontend/src/main.tsx"
      to: "Error monitoring service"
      via: "Error initialization and error boundary"
      pattern: "Sentry\\.init|captureException"
    - from: "Vercel Dashboard"
      to: "GitHub"
      via: "Deployment webhook integration"
      pattern: "vercel.*deployment.*github"
    - from: "GitHub Actions"
      to: "Deployment notifications"
      via: "Workflow triggers on deployment"
      pattern: "on:.*deployment"

---

<objective>
Integrate error monitoring (Sentry or Vercel error tracking) and configure deployment notifications via GitHub/Vercel integration

Purpose: Enable proactive error detection and alerting, and keep team informed of deployment status
Output: Error tracking configured with notifications, deployment status updates in GitHub
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Frontend Configuration
@Sports_Ai/frontend/package.json
@Sports_Ai/frontend/src/main.tsx

# Phase 3 Plan 01 (for context)
@.planning/phases/03-monitoring-observability/03-01-PLAN.md
</context>

<tasks>

<task type="checkpoint:decision" gate="blocking">
  <decision>Choose error monitoring service for the application</decision>
  <context>
    Error monitoring is critical for production applications. Two main options:

    **Option A: Vercel Error Tracking (Recommended)**
    - Native Vercel integration
    - No additional setup required
    - Automatic error collection from frontend
    - Works seamlessly with existing Vercel deployment
    - Zero configuration
    - Limited to Vercel-deployed frontend only

    **Option B: Sentry**
    - Industry-standard error monitoring
    - Works for both frontend (Vercel) and backend (Render)
    - Rich error context, stack traces, user info
    - Custom alerting rules
    - Requires Sentry account setup
    - Requires DSN configuration
    - More complex setup but more powerful

    **Recommendation for this project:**
    Start with Vercel Error Tracking for frontend (immediate, zero config). Add Sentry later if needed for backend error tracking or advanced features.
  </context>
  <options>
    <option id="option-a">
      <name>Vercel Error Tracking (Recommended)</name>
      <pros>
        - Zero configuration required
        - Already integrated with Vercel deployment
        - Automatic error collection
        - No additional dependencies
        - Works immediately
      </pros>
      <cons>
        - Frontend only (backend on Render won't be covered)
        - Less detailed error context than Sentry
        - Fewer customization options
      </cons>
    </option>
    <option id="option-b">
      <name>Sentry (Full-featured)</name>
      <pros>
        - Covers both frontend and backend
        - Rich error context and stack traces
        - Custom alerting and notifications
        - Release tracking
        - Performance monitoring available
      </pros>
      <cons>
        - Requires Sentry account setup
        - Requires package installation and configuration
        - Requires DSN environment variable
        - More complex initial setup
      </cons>
    </option>
    <option id="option-c">
      <name>Hybrid (Vercel for frontend, add Sentry later for backend)</name>
      <pros>
        - Immediate value from Vercel (zero config)
        - Can add Sentry later for backend if needed
        - Low risk, flexible approach
      </pros>
      <cons>
        - Two systems to manage eventually
        - Inconsistent error tracking between frontend/backend
      </cons>
    </option>
  </options>
  <resume-signal>Select: option-a, option-b, or option-c</resume-signal>
</task>

<task type="auto">
  <name>Task 2: Configure chosen error monitoring service</name>
  <files>Sports_Ai/frontend/package.json, Sports_Ai/frontend/src/main.tsx, Sports_Ai/frontend/.env</files>
  <action>
    Based on user's decision from Task 1, configure the error monitoring service:

    **IF Option A (Vercel Error Tracking) selected:**
    1. Vercel Error Tracking is automatically enabled for all Vercel deployments
    2. No code changes required
    3. Create documentation file .planning/phases/03-monitoring-observability/03-02-ERROR-TRACKING.md with:
       - How to access error logs in Vercel Dashboard
       - How to filter and search errors
       - How to set up alert notifications
    4. Skip to Task 3 (deployment notifications)

    **IF Option B (Sentry) selected:**
    1. Install Sentry packages:
       ```bash
       cd Sports_Ai/frontend && npm install @sentry/react @sentry/tracing
       ```

    2. Read current Sports_Ai/frontend/src/main.tsx

    3. Initialize Sentry in main.tsx BEFORE React renders:
       ```tsx
       import * as Sentry from "@sentry/react";
       import { BrowserTracing } from "@sentry/tracing";

       Sentry.init({
         dsn: import.meta.env.VITE_SENTRY_DSN,
         integrations: [new BrowserTracing()],
         tracesSampleRate: 1.0,
         environment: import.meta.env.MODE,
       });
       ```

    4. Create Sports_Ai/frontend/.env with VITE_SENTRY_DSN placeholder (user to fill):
       ```
       VITE_SENTRY_DSN=your-sentry-dsn-here
       ```

    5. Create .env.example in frontend directory documenting the variable

    6. Create ErrorBoundary component using Sentry:
       - Create Sports_Ai/frontend/src/components/ErrorBoundary.tsx
       - Wrap app with Sentry ErrorBoundary
       - Implement fallback UI

    **IF Option C (Hybrid) selected:**
    Follow Option A steps initially, document that Sentry can be added later for backend.

    IMPORTANT: Do NOT commit actual DSN values to git. Use placeholder values in .env.example.
  </action>
  <verify>
    IF Option A: test -f .planning/phases/03-monitoring-observability/03-02-ERROR-TRACKING.md returns exit code 0
    IF Option B: grep "@sentry/react" Sports_Ai/frontend/package.json returns package
  </verify>
  <done>Error monitoring service configured based on user's choice (Vercel, Sentry, or Hybrid)</done>
</task>

<task type="auto">
  <name>Task 3: Configure deployment notifications via Vercel-GitHub integration</name>
  <files>.github/workflows/vercel-deployment.yml</files>
  <action>
    Set up deployment notifications to keep team informed of deployment status:

    1. Create GitHub Actions workflow file .github/workflows/vercel-deployment.yml:

    ```yaml
    name: Vercel Deployment Notification

    on:
      deployment_status:
        types: [success, failure, cancelled]

    jobs:
      deployment-notification:
        name: Deployment Status Notification
        runs-on: ubuntu-latest
        if: github.event.deployment_status.environment == 'Production'
        steps:
          - name: Send Deployment Notification
            run: |
              echo "Deployment Status: ${{ github.event.deployment_status.state }}"
              echo "Deployment Environment: ${{ github.event.deployment_status.environment }}"
              echo "Repository: ${{ github.repository }}"
              echo "Actor: ${{ github.actor }}"
              echo "View deployment at: ${{ github.event.deployment_status.target_url }}"
    ```

    2. Create documentation file .planning/phases/03-monitoring-observability/03-02-DEPLOYMENT-NOTIFICATIONS.md with:
       - How Vercel-GitHub integration works
       - How to verify deployment notifications are enabled
       - Where to see deployment status in GitHub
       - Alternative notification methods (Slack, email, Discord)

    Note: Actual deployment notifications require Vercel dashboard configuration (user setup step), but this workflow provides the GitHub Actions integration point.

    Alternative: If Vercel's built-in notifications are preferred, document how to enable them in Vercel Dashboard -> Settings -> Notifications.
  </action>
  <verify>test -f .github/workflows/vercel-deployment.yml returns exit code 0</verify>
  <done>Deployment notification workflow created and documented</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Completed:
    - Error monitoring configured (Vercel, Sentry, or Hybrid based on user choice)
    - Deployment notification workflow created
    - Documentation for error tracking and notifications

    Ready for dashboard configuration:
    - Verify error tracking is enabled
    - Configure deployment notifications in Vercel/GitHub
  </what-built>
  <how-to-verify>
    **Step 1: Verify Error Monitoring is Active**

    IF Using Vercel Error Tracking:
    1. Go to https://vercel.com
    2. Select sports-ai-one project
    3. Navigate to "Deployments" tab
    4. Click on latest deployment
    5. Check "Runtime Logs" and "Build Logs" for errors
    6. Verify errors are being captured

    IF Using Sentry:
    1. Go to https://sentry.io (your account)
    2. Check that project is receiving errors
    3. Verify VITE_SENTRY_DSN is configured in Vercel environment variables
    4. Trigger a test error (console.error or throw in app)
    5. Verify error appears in Sentry dashboard

    **Step 2: Configure Deployment Notifications in Vercel Dashboard**
    1. Go to https://vercel.com
    2. Select sports-ai-one project
    3. Go to Settings -> Git
    4. Verify GitHub integration is connected
    5. Go to Settings -> Notifications
    6. Enable deployment notifications (Email, Slack, or Discord)
    7. Configure notification preferences

    **Step 3: Test Deployment Notifications**
    1. Make a small change to frontend code
    2. Push to GitHub main branch
    3. Wait for Vercel deployment to complete
    4. Verify notification is received (email/Slack/Discord)
    5. Check GitHub repository for deployment status updates

    **Step 4: Verify End-to-End Monitoring**
    1. Visit https://sports-ai-one.vercel.app
    2. Open browser console
    3. Trigger an error (if test environment)
    4. Verify error appears in error monitoring dashboard
    5. Check that deployment notifications are working

    **Expected Results:**
    - Error monitoring dashboard shows errors (if any)
    - Deployment notifications are received on new deployments
    - GitHub shows deployment status updates
    - Vercel and GitHub integration is working
  </how-to-verify>
  <resume-signal>Type "approved" if error monitoring and notifications are working, or describe issues</resume-signal>
</task>

</tasks>

<verification>
After completion:
1. Error monitoring service configured (Vercel or Sentry)
2. Frontend errors tracked and visible in dashboard
3. Deployment notification workflow created
4. Documentation for error tracking and notifications
5. Vercel-GitHub integration configured for notifications
6. Test deployment triggers notification
</verification>

<success_criteria>
1. Error monitoring active and collecting errors
2. Deployment notifications configured in Vercel/GitHub
3. Test deployment sends notification successfully
4. Documentation created for monitoring setup
5. All MON-03 and MON-04 requirements met
</success_criteria>

<output>
After completion, create `.planning/phases/03-monitoring-observability/03-02-SUMMARY.md`
</output>
